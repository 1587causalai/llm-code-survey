# 异或运算解决单数问题的学习笔记

## 问题描述
给定一个非空整数数组，除了某个元素只出现一次以外，其他每个元素均出现两次。要求找出那个只出现一次的元素。

关键限制条件：
- 时间复杂度要求：O(n)
- 空间复杂度要求：O(1)

## 解决思路的演进

### 初次接触异或解法
一开始听说可以用异或运算解决时很惊讶，因为之前只知道异或是用于逻辑运算，没想到还能用于数字运算。

### 异或运算的基本性质
1. a ⊕ a = 0（相同的数异或得到0）
2. a ⊕ 0 = a（任何数和0异或还是它自己）
3. a ⊕ b ⊕ c = (a ⊕ b) ⊕ c = a ⊕ (b ⊕ c)（满足交换律和结合律）

### 具体实现示例
```python
def singleNumber(nums):
    result = 0
    for num in nums:
        result ^= num
    return result
```

### 运算过程示例
以数组 [4,1,2,1,2] 为例：
```
初始：result = 0
第1步：0 ⊕ 4 = 4
第2步：4 ⊕ 1 = 5
第3步：5 ⊕ 2 = 7
第4步：7 ⊕ 1 = 6  (1抵消)
第5步：6 ⊕ 2 = 4  (2抵消)
```

## 核心知识点：位运算的本质

### 数字的二进制表示
在计算机中，所有数字都以二进制存储：
```
4 的二进制：100
1 的二进制：001
2 的二进制：010
```

### 异或的位运算规则
- 1 ⊕ 1 = 0
- 0 ⊕ 0 = 0
- 1 ⊕ 0 = 1
- 0 ⊕ 1 = 1

### 运算示例
比如 4 ⊕ 1 的计算过程：
```
  4: 100
  1: 001
  ---------
     101  (= 5)
```

## 数学原理证明
为什么这个方法有效？假设数组为[a,a,b,b,c]：
1. result = 0 ⊕ a ⊕ a ⊕ b ⊕ b ⊕ c
2. 利用交换律：= (a ⊕ a) ⊕ (b ⊕ b) ⊕ c
3. 利用自反性：= 0 ⊕ 0 ⊕ c
4. 最终得到：= c

## 易混淆点
异或运算有时候看起来和加法结果相似，但它们是不同的运算：
- 5 ⊕ 2 = 7（碰巧和5 + 2相同）
- 但5 ⊕ 3 = 6（而5 + 3 = 8）

这是因为加法需要考虑进位，而异或只是纯粹的位运算。

## 应用范围
- 主要用于整数的位运算
- 不适用于浮点数（虽然理论上可以对其二进制表示进行异或）

## 实际应用场景
1. 查找只出现一次的数字（如本题）
2. 简单的加密算法
3. 检验和计算
4. 在不使用临时变量的情况下交换两个数
5. 判断两个数是否相等

## 学习心得
这道题不仅让我学会了一个解决特定问题的算法，更重要的是认识到了位运算的强大之处。之前只知道异或用于逻辑运算，现在明白了它在整数运算中的应用，这大大拓展了我对位运算的认识。